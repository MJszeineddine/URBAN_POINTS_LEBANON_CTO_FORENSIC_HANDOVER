diff --git a/BLOCKERS.md b/BLOCKERS.md
deleted file mode 100644
index 7aa486a..0000000
--- a/BLOCKERS.md
+++ /dev/null
@@ -1,259 +0,0 @@
-# Urban Points Lebanon - Technical Blockers & Dependencies
-
-**Last Updated:** December 9, 2024  
-**Status:** üü¢ NO CRITICAL BLOCKERS - Production Ready
-
----
-
-## üîê Authentication & Credentials Required
-
-### Firebase Production Setup
-- **Status:** ‚úÖ **CONFIGURED** - Project ID: `urbangenspark` (#573269413177)
-- **Required Actions:**
-  1. Authenticate Firebase CLI: `firebase login`
-  2. Select project: `firebase use urbangenspark`
-  3. Verify authentication: `firebase projects:list`
-
-### Environment Variables (.env files)
-- **Location:** `backend/firebase-functions/.env.deployment`
-- **Required Keys:**
-  ```bash
-  SECURITY_HMAC_SECRET=<your-secret-key>
-  OMT_API_KEY=<omt-payment-gateway-key>
-  OMT_API_SECRET=<omt-payment-gateway-secret>
-  WHISH_API_KEY=<whish-money-api-key>
-  WHISH_API_SECRET=<whish-money-secret>
-  STRIPE_SECRET_KEY=<stripe-secret-key>
-  STRIPE_WEBHOOK_SECRET=<stripe-webhook-signing-secret>
-  SLACK_WEBHOOK_URL=<optional-slack-alerts-url>
-  ```
-- **Action Required:** Run `./scripts/configure_firebase_env.sh` to set up Firebase config
-
----
-
-## üí≥ Payment Gateway Configuration
-
-### OMT Payment Gateway
-- **Status:** ‚ö†Ô∏è **MANUAL CONFIGURATION REQUIRED**
-- **Webhook URL:** `https://us-central1-urbangenspark.cloudfunctions.net/handlePaymentWebhook`
-- **Action:** Configure webhook in OMT merchant dashboard
-- **Documentation:** See `docs/WEBHOOK_CONFIGURATION.md`
-
-### Whish Money Payment Gateway
-- **Status:** ‚ö†Ô∏è **MANUAL CONFIGURATION REQUIRED**
-- **Webhook URL:** `https://us-central1-urbangenspark.cloudfunctions.net/handlePaymentWebhook`
-- **Action:** Configure webhook in Whish Money merchant portal
-- **Documentation:** See `docs/WEBHOOK_CONFIGURATION.md`
-
-### Stripe Payment Gateway
-- **Status:** ‚ö†Ô∏è **MANUAL CONFIGURATION REQUIRED**
-- **Webhook URL:** `https://us-central1-urbangenspark.cloudfunctions.net/handleStripeWebhook`
-- **Action:** Configure webhook in Stripe dashboard (Settings ‚Üí Webhooks)
-- **Documentation:** See `docs/WEBHOOK_CONFIGURATION.md`
-
----
-
-## üì± Mobile App Configuration
-
-### Firebase Options (firebase_options.dart)
-- **Status:** ‚úÖ **GENERATED** - Available in each mobile app
-- **Locations:**
-  - `apps/mobile-customer/lib/firebase_options.dart`
-  - `apps/mobile-merchant/lib/firebase_options.dart`
-  - `apps/mobile-admin/lib/firebase_options.dart`
-- **Action:** Verify Firebase project settings match production
-
-### APK Signing Keys
-- **Status:** ‚ö†Ô∏è **PRODUCTION KEYS REQUIRED**
-- **Current:** Using debug signing for development builds
-- **Action for Production:**
-  1. Generate release keystore: `keytool -genkey -v -keystore release.keystore`
-  2. Update `android/key.properties` in each app
-  3. Rebuild APKs with: `flutter build apk --release`
-- **Security:** Store keystore securely (not in repository)
-
-### Google Services JSON
-- **Status:** ‚úÖ **CONFIGURED**
-- **Locations:**
-  - `apps/mobile-customer/android/app/google-services.json`
-  - `apps/mobile-merchant/android/app/google-services.json`
-  - `apps/mobile-admin/android/app/google-services.json`
-- **Action:** Verify project ID matches `urbangenspark`
-
----
-
-## üóÑÔ∏è Database & Storage
-
-### Firestore Database
-- **Status:** ‚úÖ **READY** - Database exists in `urbangenspark` project
-- **Security Rules:** ‚úÖ Deployed via `infra/firestore.rules`
-- **Indexes:** ‚úÖ 15 composite indexes defined in `infra/firestore.indexes.json`
-- **Action:** Deploy rules and indexes: `firebase deploy --only firestore`
-
-### Cloud Storage
-- **Status:** ‚ö†Ô∏è **MANUAL BUCKET CREATION REQUIRED**
-- **Required Buckets:**
-  - `urbangenspark.appspot.com` (default bucket - auto-created)
-  - Custom buckets (if needed for specific use cases)
-- **Action:** Enable Cloud Storage in Firebase Console
-- **Security Rules:** Define storage rules for uploaded files
-
----
-
-## üîî Push Notifications
-
-### Firebase Cloud Messaging (FCM)
-- **Status:** ‚úÖ **CONFIGURED** in mobile apps
-- **Dependencies:**
-  - `firebase_messaging: 15.1.3` (all mobile apps)
-- **Action Required:**
-  1. Upload APNs certificate for iOS (if iOS support needed)
-  2. Verify FCM server key in Firebase Console
-  3. Test push notification delivery
-
-### Notification Campaigns
-- **Status:** ‚úÖ **CLOUD FUNCTION READY**
-- **Function:** `processScheduledCampaigns` (scheduled daily at 9 AM UTC)
-- **Action:** Test campaign scheduling in Firestore `campaigns` collection
-
----
-
-## üõ†Ô∏è Third-Party Services
-
-### SMS Verification (OTP)
-- **Status:** ‚ö†Ô∏è **SMS PROVIDER REQUIRED**
-- **Current Implementation:** Generic SMS interface in Cloud Functions
-- **Action Required:**
-  1. Choose SMS provider (Twilio, SNS, local Lebanese provider)
-  2. Add provider credentials to `.env`
-  3. Update `backend/firebase-functions/src/sms.ts` with provider integration
-
-### Slack Alerts (Optional)
-- **Status:** üü° **OPTIONAL** - Not blocking deployment
-- **Action:** Add `SLACK_WEBHOOK_URL` to Firebase config for error alerts
-
----
-
-## üß™ Testing & Quality Assurance
-
-### Cloud Functions Unit Tests
-- **Status:** ‚úÖ **TESTS EXIST** - Located in `backend/firebase-functions/src/__tests__/`
-- **Coverage:**
-  - QR Functions: ‚úÖ `qr-functions.test.ts`
-  - Points Functions: ‚úÖ `points-functions.test.ts`
-  - Alert Functions: ‚úÖ `alert-functions.test.ts`
-  - Privacy Functions: ‚úÖ `privacy-functions.test.ts`
-- **Action:** Run tests: `cd backend/firebase-functions && npm test`
-
-### Integration Testing
-- **Status:** ‚ö†Ô∏è **MANUAL TESTING REQUIRED POST-DEPLOYMENT**
-- **Test Script:** Available at `scripts/test_cloud_functions_logic.sh`
-- **Critical Flows to Test:**
-  1. Customer registration & login
-  2. Offer redemption with QR code
-  3. Points accumulation & wallet updates
-  4. Merchant offer creation
-  5. Payment webhook processing
-
----
-
-## üöÄ Deployment Dependencies
-
-### Node.js Version
-- **Required:** Node.js v20+ (for Firebase Cloud Functions)
-- **Current Project:** `"engines": {"node": "20"}`
-- **Verification:** `node --version`
-
-### Flutter & Dart Versions
-- **Required:**
-  - Flutter 3.35.4
-  - Dart 3.9.2
-- **Verification:**
-  ```bash
-  flutter --version
-  dart --version
-  ```
-
-### Firebase CLI
-- **Required:** Firebase CLI v14.20.0+
-- **Installation:** `npm install -g firebase-tools`
-- **Verification:** `firebase --version`
-
----
-
-## üìã Pre-Deployment Checklist
-
-### Before Running `./scripts/deploy_production.sh`:
-- [ ] Firebase CLI authenticated: `firebase login`
-- [ ] Project selected: `firebase use urbangenspark`
-- [ ] Environment variables configured: `./scripts/configure_firebase_env.sh`
-- [ ] Cloud Functions dependencies installed: `cd backend/firebase-functions && npm install`
-- [ ] Firestore security rules reviewed: `infra/firestore.rules`
-- [ ] Payment gateway webhooks documented (see `docs/WEBHOOK_CONFIGURATION.md`)
-
-### Post-Deployment Actions:
-- [ ] Run verification script: `./scripts/verify_deployment.sh`
-- [ ] Configure payment gateway webhooks
-- [ ] Test critical user flows
-- [ ] Monitor Cloud Functions logs: `firebase functions:log`
-- [ ] Verify Firestore security rules: `firebase firestore:rules get`
-
----
-
-## üî• Known Issues & Workarounds
-
-### Issue 1: Firebase Functions Cold Start
-- **Impact:** First invocation may take 5-10 seconds
-- **Workaround:** Implemented `minInstances: 0` for cost optimization; consider `minInstances: 1` for critical functions
-- **Status:** ‚úÖ **ACCEPTABLE** - Performance tuning available post-launch
-
-### Issue 2: QR Code Expiry (60 seconds)
-- **Impact:** Users must redeem within 60 seconds
-- **Rationale:** Security requirement to prevent QR code theft/replay attacks
-- **Status:** ‚úÖ **BY DESIGN** - Documented in `docs/02_ARCHITECTURE_BACKEND.md`
-
----
-
-## ‚úÖ Resolution Status Summary
-
-| Category                  | Status | Blocking? | Action Required                          |
-|---------------------------|--------|-----------|------------------------------------------|
-| Firebase Setup            | ‚úÖ Ready | No       | Authenticate CLI                         |
-| Environment Variables     | ‚ö†Ô∏è Pending | **YES** | Run configure_firebase_env.sh            |
-| Payment Webhooks          | ‚ö†Ô∏è Pending | No       | Configure webhooks post-deployment       |
-| Mobile App Signing        | ‚ö†Ô∏è Dev Keys | No       | Generate production keystore for release |
-| SMS Provider              | ‚ö†Ô∏è Generic | No       | Integrate specific SMS provider          |
-| Cloud Storage Buckets     | ‚ö†Ô∏è Manual | No       | Enable in Firebase Console               |
-| Testing                   | ‚úÖ Scripts Ready | No   | Run post-deployment tests                |
-
-**CRITICAL BLOCKER COUNT:** 1 (Environment Variables - Resolved by running configuration script)
-
----
-
-## üÜò Support & Escalation
-
-### Technical Documentation
-- **System Overview:** `docs/01_SYSTEM_OVERVIEW.md`
-- **Backend Architecture:** `docs/02_ARCHITECTURE_BACKEND.md`
-- **Deployment Guide:** `docs/05_DEPLOYMENT_GUIDE.md`
-- **Copilot Context:** `docs/06_COPILOT_CONTEXT.md`
-
-### Emergency Contacts
-- **Firebase Project Owner:** [Configure in Firebase Console]
-- **Technical Lead:** [Add contact information]
-- **Payment Gateway Support:** See respective gateway documentation
-
-### Troubleshooting Resources
-- **Firebase Status:** https://status.firebase.google.com/
-- **Cloud Functions Logs:** `firebase functions:log --only <functionName>`
-- **Firestore Console:** https://console.firebase.google.com/project/urbangenspark/firestore
-
----
-
-**üéØ NEXT STEPS:**
-1. Authenticate Firebase CLI
-2. Run `./scripts/configure_firebase_env.sh`
-3. Execute `./scripts/deploy_production.sh`
-4. Follow post-deployment checklist above
-
-**ESTIMATED TIME TO PRODUCTION:** 1-2 hours (assuming credentials available)
diff --git a/REPORT.md b/REPORT.md
deleted file mode 100644
index ff7907a..0000000
--- a/REPORT.md
+++ /dev/null
@@ -1,309 +0,0 @@
-# Urban Points Lebanon - Monorepo Packaging Report
-
-## Executive Summary
-
-Successfully reconstructed and packaged the **complete Urban Points Lebanon ecosystem** into a single, cohesive monorepo structure. All code, documentation, and deployment scripts are now organized, documented, and ready for GitHub Copilot / AI assistant collaboration.
-
----
-
-## What Was Found
-
-### Backend Services
-
-**Firebase Cloud Functions** (`backend/firebase-functions/`):
-- **19 Cloud Functions**: Complete backend logic
-  - Authentication: createCustomerAccount, createMerchantAccount, createAdminAccount, verifyPhoneOTP
-  - Points Economy: awardPoints, redeemPoints, checkRedemptionEligibility (with atomic transactions)
-  - QR Security: generateSecureQRToken, validateRedemption, validateQRToken
-  - Offers: createOffer, updateOfferStatus, moderateOffer
-  - Subscriptions: purchaseSubscription, updateSubscriptionStatus
-  - Push Campaigns: sendPushCampaign, sendPushToSegment
-  - Admin: calculateDailyStats
-  - Scheduled: processSubscriptionRenewals, sendSubscriptionReminders
-- **Source Files**: TypeScript implementation with tests
-- **Status**: ‚úÖ Production-ready, fully tested (0 errors in build)
-
-**REST API** (`backend/rest-api/`):
-- **Purpose**: Legacy/compatibility API
-- **Tech Stack**: Express.js + TypeScript + PostgreSQL
-- **Status**: ‚ö†Ô∏è Minimal implementation (mainly boilerplate)
-- **Note**: Firebase Cloud Functions is the primary backend
-
-### Mobile Applications
-
-**Customer App** (`apps/mobile-customer/`):
-- **Purpose**: Consumer-facing offer discovery and redemption
-- **Framework**: Flutter 3.35.4, Dart 3.9.2
-- **Key Features**: Offer browsing, QR redemption, points wallet, subscriptions
-- **Status**: ‚úÖ Production-ready
-
-**Merchant App** (`apps/mobile-merchant/`):
-- **Purpose**: Merchant offer management and QR validation
-- **Framework**: Flutter 3.35.4, Dart 3.9.2
-- **Key Features**: Offer CRUD, QR scanner, analytics
-- **Status**: ‚úÖ Production-ready
-
-**Admin App** (`apps/mobile-admin/`):
-- **Purpose**: Platform administration and moderation
-- **Framework**: Flutter 3.35.4, Dart 3.9.2
-- **Key Features**: Merchant approval, offer moderation, system analytics
-- **Status**: ‚úÖ Production-ready
-
-### Web Application
-
-**Web Admin Dashboard** (`apps/web-admin/`):
-- **Purpose**: Browser-based admin interface
-- **Tech Stack**: Static HTML/CSS/JavaScript
-- **Status**: ‚úÖ Production-ready
-
-### Infrastructure
-
-**Firebase Configuration** (`infra/`):
-- `firebase.json` - Project configuration
-- `.firebaserc` - Project aliases (urbangenspark)
-- `firestore.rules` - Security rules (10,558 bytes, 18 collections)
-- `firestore.indexes.json` - Composite indexes (15 indexes)
-- **Status**: ‚úÖ Complete and validated
-
-**Deployment Scripts** (`scripts/`):
-- `deploy_production.sh` - One-command deployment (5,441 bytes)
-- `configure_firebase_env.sh` - Environment setup (4,369 bytes)
-- `verify_deployment.sh` - Post-deployment validation (8,300 bytes)
-- `test_cloud_functions_logic.sh` - Business logic tests (7,148 bytes)
-- **Status**: ‚úÖ Fully automated
-
----
-
-## What Was Reconstructed/Upgraded
-
-### Documentation (75+ KB)
-
-Created **comprehensive documentation** in `docs/`:
-
-1. **01_SYSTEM_OVERVIEW.md** (9,608 bytes)
-   - System purpose and value proposition
-   - User types and roles
-   - Main domain flows
-   - Business rules
-   - Technology stack summary
-
-2. **02_ARCHITECTURE_BACKEND.md** (18,882 bytes)
-   - Technology stack details
-   - Directory structure
-   - 10 main services/modules
-   - Request flow architecture
-   - Database schema (15 Firestore collections)
-   - Environment configuration
-   - Error handling and testing
-
-3. **03_ARCHITECTURE_FRONTEND.md** (5,654 bytes)
-   - Mobile app architecture
-   - Common dependencies
-   - Key screens for each app
-   - State management patterns
-   - API integration layer
-
-4. **04_DATA_MODELS.md** (33,476 bytes)
-   - Complete data models for 15 collections
-   - Field definitions, types, requirements
-   - Indexes and security rules
-   - Entity relationships
-   - Data validation rules
-
-5. **05_DEPLOYMENT_GUIDE.md** (21,324 bytes)
-   - Prerequisites and setup
-   - Local development instructions
-   - Firebase deployment (one-command + manual)
-   - Mobile app builds
-   - Environment configuration
-   - Production deployment checklist
-   - Troubleshooting guide
-
-6. **06_COPILOT_CONTEXT.md** (22,183 bytes)
-   - Repository purpose and navigation
-   - Module organization
-   - **5 detailed feature extension examples**:
-     - Add new offer type (BOGO)
-     - Add merchant analytics report
-     - Add push notifications for expiring offers
-     - Add customer review system
-     - Add geo-location based filtering
-   - Common code patterns
-   - Testing guidelines
-
-7. **07_APPS_OVERVIEW.md** (3,127 bytes)
-   - All applications overview
-   - Tech stack for each app
-   - Main features
-   - How to run/build each app
-   - App comparison matrix
-
-**Total Documentation**: **114,254 bytes (114 KB)** of comprehensive guides
-
-### Root Files
-
-- **README.md**: Comprehensive project overview with quick start guide
-- **REPORT.md**: This packaging report
-- **.gitignore**: Comprehensive ignore patterns for all technologies
-
----
-
-## Repository Organization
-
-### Monorepo Structure Applied
-
-```
-urbanpoints-lebanon-complete-ecosystem/
-‚îú‚îÄ‚îÄ docs/               # 7 comprehensive documentation files
-‚îú‚îÄ‚îÄ backend/            # Backend services
-‚îÇ   ‚îú‚îÄ‚îÄ firebase-functions/  # PRIMARY backend
-‚îÇ   ‚îî‚îÄ‚îÄ rest-api/            # Legacy/compatibility
-‚îú‚îÄ‚îÄ apps/               # All applications
-‚îÇ   ‚îú‚îÄ‚îÄ mobile-customer/
-‚îÇ   ‚îú‚îÄ‚îÄ mobile-merchant/
-‚îÇ   ‚îú‚îÄ‚îÄ mobile-admin/
-‚îÇ   ‚îî‚îÄ‚îÄ web-admin/
-‚îú‚îÄ‚îÄ scripts/            # Deployment automation
-‚îú‚îÄ‚îÄ infra/              # Firebase configuration
-‚îú‚îÄ‚îÄ archive/            # (Reserved for older versions)
-‚îú‚îÄ‚îÄ README.md
-‚îú‚îÄ‚îÄ REPORT.md
-‚îî‚îÄ‚îÄ .gitignore
-```
-
-**Total Size**: ~720 MB (includes node_modules, build artifacts)  
-**Source Code**: ~15 MB (excluding dependencies and builds)
-
----
-
-## Known Gaps and TODOs
-
-### Minor Gaps
-
-1. **Landing/Marketing Website**: Not found in workspace
-   - **Status**: Not critical, can be added later
-   - **Recommendation**: Create simple landing page with `docs/01_SYSTEM_OVERVIEW.md` content
-
-2. **REST API Implementation**: Minimal boilerplate only
-   - **Status**: Firebase Cloud Functions is primary backend
-   - **Recommendation**: Either complete REST API or archive it
-
-3. **Sample Data Scripts**: Basic seeding scripts exist but could be expanded
-   - **Status**: Firebase has sample data capability
-   - **Recommendation**: Create comprehensive seed script for demo data
-
-### No Blockers
-
-‚úÖ All critical components found and packaged  
-‚úÖ Firebase configuration complete  
-‚úÖ Deployment scripts functional  
-‚úÖ Documentation comprehensive  
-‚úÖ Mobile apps production-ready  
-‚úÖ Backend fully implemented
-
----
-
-## How to Continue Building
-
-### For New Features
-
-1. **Read**: `docs/06_COPILOT_CONTEXT.md` - Contains 5 detailed extension examples
-2. **Follow Patterns**: Use existing code as templates
-3. **Update Docs**: Add new features to appropriate documentation files
-4. **Test**: Use testing patterns from examples
-5. **Deploy**: Use `scripts/deploy_production.sh`
-
-### For Maintenance
-
-1. **Monitor**: Firebase Console for errors and usage
-2. **Update Dependencies**: Respect version locks (Flutter 3.35.4, Firebase packages)
-3. **Backup**: Use Firestore backup scripts (see deployment guide)
-4. **Security**: Review Firestore rules and access logs
-
-### For Deployment
-
-1. **One Command**: `./scripts/deploy_production.sh`
-2. **Manual Steps**: See `docs/05_DEPLOYMENT_GUIDE.md`
-3. **Post-Deployment**: Run `./scripts/verify_deployment.sh`
-
----
-
-## Verification Checklist
-
-‚úÖ **All Backend Code**: Firebase Cloud Functions (19 functions) + REST API boilerplate  
-‚úÖ **All Mobile Apps**: Customer, Merchant, Admin (Flutter)  
-‚úÖ **Web Admin**: Static dashboard  
-‚úÖ **Firebase Configuration**: Rules, indexes, project config  
-‚úÖ **Deployment Scripts**: Automated deployment pipeline  
-‚úÖ **Documentation**: 7 comprehensive guides (114+ KB)  
-‚úÖ **README**: Quick start and overview  
-‚úÖ **Monorepo Structure**: Clean, organized, AI-friendly  
-‚úÖ **No Secrets**: All secrets in Firebase config (not committed)  
-‚úÖ **Gitignore**: Comprehensive ignore patterns  
-
----
-
-## File Counts
-
-- **Documentation**: 7 markdown files
-- **Backend Functions**: 19 Cloud Functions
-- **Mobile Apps**: 3 Flutter apps (~50 Dart files each)
-- **Web Apps**: 1 static admin dashboard
-- **Scripts**: 4 deployment/automation scripts
-- **Config Files**: 4 Firebase/infrastructure configs
-
-**Total Deliverable**: Complete production-ready monorepo
-
----
-
-## Success Metrics
-
-‚úÖ **Copilot-Ready**: Comprehensive context documentation  
-‚úÖ **Self-Contained**: All code and configs included  
-‚úÖ **Production-Ready**: Deployed and tested in Firebase  
-‚úÖ **Well-Documented**: 114+ KB of detailed documentation  
-‚úÖ **Automated Deployment**: One-command deployment  
-‚úÖ **No Blockers**: All critical components present  
-
----
-
-## Recommendations
-
-### Immediate Actions
-1. **Deploy**: Run `scripts/deploy_production.sh` to validate deployment
-2. **Review**: Read `docs/01_SYSTEM_OVERVIEW.md` to understand the system
-3. **Configure**: Set up payment gateway webhooks (see docs)
-
-### Short-Term (1-2 weeks)
-1. **Add Landing Page**: Create marketing website
-2. **Expand REST API**: Complete implementation or archive
-3. **Create Demo Data**: Comprehensive seed script with realistic data
-4. **Set Up CI/CD**: Automate deployment with GitHub Actions
-
-### Long-Term (1-3 months)
-1. **Add Reviews**: Customer review and rating system
-2. **Geo-Location**: Nearby offers filtering
-3. **Advanced Analytics**: Machine learning for personalized offers
-4. **Multi-Language**: Full Arabic localization
-
----
-
-## Conclusion
-
-**Status**: ‚úÖ **COMPLETE AND PRODUCTION-READY**
-
-The Urban Points Lebanon ecosystem has been successfully packaged into a comprehensive, well-documented monorepo. All code is organized, all critical components are present, and the system is ready for:
-
-- **Immediate deployment** to Firebase
-- **Collaborative development** with AI assistants
-- **Feature extensions** using provided examples
-- **Production operations** with automated deployment
-
-**Next Step**: Deploy to Firebase using `./scripts/deploy_production.sh`
-
----
-
-**Report Version**: 1.0  
-**Generated**: November 2025  
-**Packaged By**: AI Senior Architect  
-**Status**: Production Ready ‚úÖ
diff --git a/apps/mobile-customer/macos/Flutter/GeneratedPluginRegistrant.swift b/apps/mobile-customer/macos/Flutter/GeneratedPluginRegistrant.swift
index 324252b..ece7c2f 100644
--- a/apps/mobile-customer/macos/Flutter/GeneratedPluginRegistrant.swift
+++ b/apps/mobile-customer/macos/Flutter/GeneratedPluginRegistrant.swift
@@ -6,13 +6,19 @@ import FlutterMacOS
 import Foundation
 
 import cloud_firestore
+import cloud_functions
 import firebase_auth
 import firebase_core
+import firebase_crashlytics
 import firebase_messaging
+import shared_preferences_foundation
 
 func RegisterGeneratedPlugins(registry: FlutterPluginRegistry) {
   FLTFirebaseFirestorePlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseFirestorePlugin"))
+  FLTFirebaseFunctionsPlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseFunctionsPlugin"))
   FLTFirebaseAuthPlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseAuthPlugin"))
   FLTFirebaseCorePlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseCorePlugin"))
+  FLTFirebaseCrashlyticsPlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseCrashlyticsPlugin"))
   FLTFirebaseMessagingPlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseMessagingPlugin"))
+  SharedPreferencesPlugin.register(with: registry.registrar(forPlugin: "SharedPreferencesPlugin"))
 }
diff --git a/apps/mobile-customer/pubspec.lock b/apps/mobile-customer/pubspec.lock
index c4d1aee..6de919e 100644
--- a/apps/mobile-customer/pubspec.lock
+++ b/apps/mobile-customer/pubspec.lock
@@ -65,6 +65,30 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "4.3.2"
+  cloud_functions:
+    dependency: "direct main"
+    description:
+      name: cloud_functions
+      sha256: b64cea501f14380e9cc59c917e92a7ec1f84e1d2a1307b3171271a68dc4d944c
+      url: "https://pub.dev"
+    source: hosted
+    version: "5.1.3"
+  cloud_functions_platform_interface:
+    dependency: transitive
+    description:
+      name: cloud_functions_platform_interface
+      sha256: af1f061095fb96a0e139e6b8d6b8b8dde7e54dd09d63a60f93f6d81ff81f4da3
+      url: "https://pub.dev"
+    source: hosted
+    version: "5.5.37"
+  cloud_functions_web:
+    dependency: transitive
+    description:
+      name: cloud_functions_web
+      sha256: fa69599007837601870efb2ca18dace55298842357ecda304c9a241917135cbc
+      url: "https://pub.dev"
+    source: hosted
+    version: "4.10.2"
   collection:
     dependency: transitive
     description:
@@ -97,6 +121,22 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "1.3.3"
+  ffi:
+    dependency: transitive
+    description:
+      name: ffi
+      sha256: "289279317b4b16eb2bb7e271abccd4bf84ec9bdcbe999e278a94b804f5630418"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.1.4"
+  file:
+    dependency: transitive
+    description:
+      name: file
+      sha256: a3b4f84adafef897088c160faf7dfffb7696046cb13ae90b508c2cbc95d3b8d4
+      url: "https://pub.dev"
+    source: hosted
+    version: "7.0.1"
   firebase_auth:
     dependency: "direct main"
     description:
@@ -145,6 +185,22 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "2.24.0"
+  firebase_crashlytics:
+    dependency: "direct main"
+    description:
+      name: firebase_crashlytics
+      sha256: "6899800fff1af819955aef740f18c4c8600f8b952a2a1ea97bc0872ebb257387"
+      url: "https://pub.dev"
+    source: hosted
+    version: "4.1.3"
+  firebase_crashlytics_platform_interface:
+    dependency: transitive
+    description:
+      name: firebase_crashlytics_platform_interface
+      sha256: "97c47b0a1779a3d4118416a3f0c6c564cc59ad89095e899893204d4b2ad08f4c"
+      url: "https://pub.dev"
+    source: hosted
+    version: "3.6.44"
   firebase_messaging:
     dependency: "direct main"
     description:
@@ -288,6 +344,38 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "1.9.1"
+  path_provider_linux:
+    dependency: transitive
+    description:
+      name: path_provider_linux
+      sha256: f7a1fe3a634fe7734c8d3f2766ad746ae2a2884abe22e241a8b301bf5cac3279
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.2.1"
+  path_provider_platform_interface:
+    dependency: transitive
+    description:
+      name: path_provider_platform_interface
+      sha256: "88f5779f72ba699763fa3a3b06aa4bf6de76c8e5de842cf6f29e2e06476c2334"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.1.2"
+  path_provider_windows:
+    dependency: transitive
+    description:
+      name: path_provider_windows
+      sha256: bd6f00dbd873bfb70d0761682da2b3a2c2fccc2b9e84c495821639601d81afe7
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.3.0"
+  platform:
+    dependency: transitive
+    description:
+      name: platform
+      sha256: "5d6b1b0036a5f331ebc77c850ebc8506cbc1e9416c27e59b439f917a902a4984"
+      url: "https://pub.dev"
+    source: hosted
+    version: "3.1.6"
   plugin_platform_interface:
     dependency: transitive
     description:
@@ -304,6 +392,78 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "6.1.5+1"
+  qr:
+    dependency: transitive
+    description:
+      name: qr
+      sha256: "5a1d2586170e172b8a8c8470bbbffd5eb0cd38a66c0d77155ea138d3af3a4445"
+      url: "https://pub.dev"
+    source: hosted
+    version: "3.0.2"
+  qr_flutter:
+    dependency: "direct main"
+    description:
+      name: qr_flutter
+      sha256: "5095f0fc6e3f71d08adef8feccc8cea4f12eec18a2e31c2e8d82cb6019f4b097"
+      url: "https://pub.dev"
+    source: hosted
+    version: "4.1.0"
+  shared_preferences:
+    dependency: "direct main"
+    description:
+      name: shared_preferences
+      sha256: "6e8bf70b7fef813df4e9a36f658ac46d107db4b4cfe1048b477d4e453a8159f5"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.5.3"
+  shared_preferences_android:
+    dependency: transitive
+    description:
+      name: shared_preferences_android
+      sha256: "83af5c682796c0f7719c2bbf74792d113e40ae97981b8f266fa84574573556bc"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.18"
+  shared_preferences_foundation:
+    dependency: transitive
+    description:
+      name: shared_preferences_foundation
+      sha256: "4e7eaffc2b17ba398759f1151415869a34771ba11ebbccd1b0145472a619a64f"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.5.6"
+  shared_preferences_linux:
+    dependency: transitive
+    description:
+      name: shared_preferences_linux
+      sha256: "580abfd40f415611503cae30adf626e6656dfb2f0cee8f465ece7b6defb40f2f"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.1"
+  shared_preferences_platform_interface:
+    dependency: transitive
+    description:
+      name: shared_preferences_platform_interface
+      sha256: "57cbf196c486bc2cf1f02b85784932c6094376284b3ad5779d1b1c6c6a816b80"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.1"
+  shared_preferences_web:
+    dependency: transitive
+    description:
+      name: shared_preferences_web
+      sha256: c49bd060261c9a3f0ff445892695d6212ff603ef3115edbb448509d407600019
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.3"
+  shared_preferences_windows:
+    dependency: transitive
+    description:
+      name: shared_preferences_windows
+      sha256: "94ef0f72b2d71bc3e700e025db3710911bd51a71cefb65cc609dd0d9a982e3c1"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.1"
   sky_engine:
     dependency: transitive
     description: flutter
@@ -389,6 +549,14 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "1.1.1"
+  xdg_directories:
+    dependency: transitive
+    description:
+      name: xdg_directories
+      sha256: "7a3f37b05d989967cdddcbb571f1ea834867ae2faa29725fd085180e0883aa15"
+      url: "https://pub.dev"
+    source: hosted
+    version: "1.1.0"
 sdks:
   dart: ">=3.9.2 <4.0.0"
-  flutter: ">=3.22.0"
+  flutter: ">=3.35.0"
diff --git a/apps/mobile-customer/pubspec.yaml b/apps/mobile-customer/pubspec.yaml
index 141f30b..1ffd90b 100644
--- a/apps/mobile-customer/pubspec.yaml
+++ b/apps/mobile-customer/pubspec.yaml
@@ -40,13 +40,19 @@ dependencies:
   cloud_firestore: 5.4.3
   firebase_auth: 5.3.1
   firebase_messaging: 15.1.3
+  cloud_functions: 5.1.3
+  firebase_crashlytics: 4.1.3
   
   # State management and utilities
   provider: 6.1.5+1
   intl: 0.19.0
+  shared_preferences: 2.5.3
   
   # Analytics and charts
   fl_chart: 0.69.0
+  
+  # QR Code generation
+  qr_flutter: ^4.1.0
 
 dev_dependencies:
   flutter_test:
diff --git a/apps/mobile-customer/test/widget_test.dart b/apps/mobile-customer/test/widget_test.dart
index 3a363fd..2b945ac 100644
--- a/apps/mobile-customer/test/widget_test.dart
+++ b/apps/mobile-customer/test/widget_test.dart
@@ -7,11 +7,68 @@
 
 import 'package:flutter/material.dart';
 import 'package:flutter_test/flutter_test.dart';
-
+import 'package:firebase_core/firebase_core.dart';
+import 'package:firebase_core_platform_interface/firebase_core_platform_interface.dart';
 import 'package:urban_points_customer/main.dart';
 
+// Mock Firebase setup for testing
+setupFirebaseAuthMocks() {
+  TestWidgetsFlutterBinding.ensureInitialized();
+  
+  // Mock Firebase Core
+  FirebasePlatform.instance = MockFirebasePlatform();
+}
+
+// Mock Firebase Platform
+class MockFirebasePlatform extends FirebasePlatform {
+  @override
+  Future<FirebaseAppPlatform> initializeApp({
+    String? name,
+    FirebaseOptions? options,
+  }) async {
+    return MockFirebaseApp();
+  }
+
+  @override
+  FirebaseAppPlatform app([String name = defaultFirebaseAppName]) {
+    return MockFirebaseApp();
+  }
+
+  @override
+  List<FirebaseAppPlatform> get apps {
+    return [MockFirebaseApp()];
+  }
+}
+
+// Mock Firebase App
+class MockFirebaseApp extends FirebaseAppPlatform {
+  MockFirebaseApp() : super(defaultFirebaseAppName, const FirebaseOptions(
+    apiKey: 'mock-api-key',
+    appId: 'mock-app-id',
+    messagingSenderId: 'mock-sender-id',
+    projectId: 'mock-project-id',
+  ));
+
+  @override
+  Future<void> delete() async {}
+
+  @override
+  Future<void> setAutomaticDataCollectionEnabled(bool enabled) async {}
+
+  @override
+  Future<void> setAutomaticResourceManagementEnabled(bool enabled) async {}
+
+  @override
+  bool get isAutomaticDataCollectionEnabled => false;
+}
+
 void main() {
+  setupFirebaseAuthMocks();
+
   testWidgets('App loads correctly', (WidgetTester tester) async {
+    // Initialize Firebase
+    await Firebase.initializeApp();
+
     // Build our app and trigger a frame.
     await tester.pumpWidget(const UrbanPointsCustomerApp());
 
diff --git a/apps/mobile-merchant/macos/Flutter/GeneratedPluginRegistrant.swift b/apps/mobile-merchant/macos/Flutter/GeneratedPluginRegistrant.swift
index 324252b..ece7c2f 100644
--- a/apps/mobile-merchant/macos/Flutter/GeneratedPluginRegistrant.swift
+++ b/apps/mobile-merchant/macos/Flutter/GeneratedPluginRegistrant.swift
@@ -6,13 +6,19 @@ import FlutterMacOS
 import Foundation
 
 import cloud_firestore
+import cloud_functions
 import firebase_auth
 import firebase_core
+import firebase_crashlytics
 import firebase_messaging
+import shared_preferences_foundation
 
 func RegisterGeneratedPlugins(registry: FlutterPluginRegistry) {
   FLTFirebaseFirestorePlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseFirestorePlugin"))
+  FLTFirebaseFunctionsPlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseFunctionsPlugin"))
   FLTFirebaseAuthPlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseAuthPlugin"))
   FLTFirebaseCorePlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseCorePlugin"))
+  FLTFirebaseCrashlyticsPlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseCrashlyticsPlugin"))
   FLTFirebaseMessagingPlugin.register(with: registry.registrar(forPlugin: "FLTFirebaseMessagingPlugin"))
+  SharedPreferencesPlugin.register(with: registry.registrar(forPlugin: "SharedPreferencesPlugin"))
 }
diff --git a/apps/mobile-merchant/pubspec.lock b/apps/mobile-merchant/pubspec.lock
index c4d1aee..ffad0c1 100644
--- a/apps/mobile-merchant/pubspec.lock
+++ b/apps/mobile-merchant/pubspec.lock
@@ -65,6 +65,30 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "4.3.2"
+  cloud_functions:
+    dependency: "direct main"
+    description:
+      name: cloud_functions
+      sha256: b64cea501f14380e9cc59c917e92a7ec1f84e1d2a1307b3171271a68dc4d944c
+      url: "https://pub.dev"
+    source: hosted
+    version: "5.1.3"
+  cloud_functions_platform_interface:
+    dependency: transitive
+    description:
+      name: cloud_functions_platform_interface
+      sha256: af1f061095fb96a0e139e6b8d6b8b8dde7e54dd09d63a60f93f6d81ff81f4da3
+      url: "https://pub.dev"
+    source: hosted
+    version: "5.5.37"
+  cloud_functions_web:
+    dependency: transitive
+    description:
+      name: cloud_functions_web
+      sha256: fa69599007837601870efb2ca18dace55298842357ecda304c9a241917135cbc
+      url: "https://pub.dev"
+    source: hosted
+    version: "4.10.2"
   collection:
     dependency: transitive
     description:
@@ -97,6 +121,22 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "1.3.3"
+  ffi:
+    dependency: transitive
+    description:
+      name: ffi
+      sha256: "289279317b4b16eb2bb7e271abccd4bf84ec9bdcbe999e278a94b804f5630418"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.1.4"
+  file:
+    dependency: transitive
+    description:
+      name: file
+      sha256: a3b4f84adafef897088c160faf7dfffb7696046cb13ae90b508c2cbc95d3b8d4
+      url: "https://pub.dev"
+    source: hosted
+    version: "7.0.1"
   firebase_auth:
     dependency: "direct main"
     description:
@@ -145,6 +185,22 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "2.24.0"
+  firebase_crashlytics:
+    dependency: "direct main"
+    description:
+      name: firebase_crashlytics
+      sha256: "6899800fff1af819955aef740f18c4c8600f8b952a2a1ea97bc0872ebb257387"
+      url: "https://pub.dev"
+    source: hosted
+    version: "4.1.3"
+  firebase_crashlytics_platform_interface:
+    dependency: transitive
+    description:
+      name: firebase_crashlytics_platform_interface
+      sha256: "97c47b0a1779a3d4118416a3f0c6c564cc59ad89095e899893204d4b2ad08f4c"
+      url: "https://pub.dev"
+    source: hosted
+    version: "3.6.44"
   firebase_messaging:
     dependency: "direct main"
     description:
@@ -288,6 +344,38 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "1.9.1"
+  path_provider_linux:
+    dependency: transitive
+    description:
+      name: path_provider_linux
+      sha256: f7a1fe3a634fe7734c8d3f2766ad746ae2a2884abe22e241a8b301bf5cac3279
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.2.1"
+  path_provider_platform_interface:
+    dependency: transitive
+    description:
+      name: path_provider_platform_interface
+      sha256: "88f5779f72ba699763fa3a3b06aa4bf6de76c8e5de842cf6f29e2e06476c2334"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.1.2"
+  path_provider_windows:
+    dependency: transitive
+    description:
+      name: path_provider_windows
+      sha256: bd6f00dbd873bfb70d0761682da2b3a2c2fccc2b9e84c495821639601d81afe7
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.3.0"
+  platform:
+    dependency: transitive
+    description:
+      name: platform
+      sha256: "5d6b1b0036a5f331ebc77c850ebc8506cbc1e9416c27e59b439f917a902a4984"
+      url: "https://pub.dev"
+    source: hosted
+    version: "3.1.6"
   plugin_platform_interface:
     dependency: transitive
     description:
@@ -304,6 +392,62 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "6.1.5+1"
+  shared_preferences:
+    dependency: "direct main"
+    description:
+      name: shared_preferences
+      sha256: "6e8bf70b7fef813df4e9a36f658ac46d107db4b4cfe1048b477d4e453a8159f5"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.5.3"
+  shared_preferences_android:
+    dependency: transitive
+    description:
+      name: shared_preferences_android
+      sha256: "83af5c682796c0f7719c2bbf74792d113e40ae97981b8f266fa84574573556bc"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.18"
+  shared_preferences_foundation:
+    dependency: transitive
+    description:
+      name: shared_preferences_foundation
+      sha256: "4e7eaffc2b17ba398759f1151415869a34771ba11ebbccd1b0145472a619a64f"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.5.6"
+  shared_preferences_linux:
+    dependency: transitive
+    description:
+      name: shared_preferences_linux
+      sha256: "580abfd40f415611503cae30adf626e6656dfb2f0cee8f465ece7b6defb40f2f"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.1"
+  shared_preferences_platform_interface:
+    dependency: transitive
+    description:
+      name: shared_preferences_platform_interface
+      sha256: "57cbf196c486bc2cf1f02b85784932c6094376284b3ad5779d1b1c6c6a816b80"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.1"
+  shared_preferences_web:
+    dependency: transitive
+    description:
+      name: shared_preferences_web
+      sha256: c49bd060261c9a3f0ff445892695d6212ff603ef3115edbb448509d407600019
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.3"
+  shared_preferences_windows:
+    dependency: transitive
+    description:
+      name: shared_preferences_windows
+      sha256: "94ef0f72b2d71bc3e700e025db3710911bd51a71cefb65cc609dd0d9a982e3c1"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.1"
   sky_engine:
     dependency: transitive
     description: flutter
@@ -389,6 +533,14 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "1.1.1"
+  xdg_directories:
+    dependency: transitive
+    description:
+      name: xdg_directories
+      sha256: "7a3f37b05d989967cdddcbb571f1ea834867ae2faa29725fd085180e0883aa15"
+      url: "https://pub.dev"
+    source: hosted
+    version: "1.1.0"
 sdks:
   dart: ">=3.9.2 <4.0.0"
-  flutter: ">=3.22.0"
+  flutter: ">=3.35.0"
diff --git a/apps/mobile-merchant/pubspec.yaml b/apps/mobile-merchant/pubspec.yaml
index 9a709f0..203f89c 100644
--- a/apps/mobile-merchant/pubspec.yaml
+++ b/apps/mobile-merchant/pubspec.yaml
@@ -40,10 +40,13 @@ dependencies:
   cloud_firestore: 5.4.3
   firebase_auth: 5.3.1
   firebase_messaging: 15.1.3
+  cloud_functions: 5.1.3
+  firebase_crashlytics: 4.1.3
   
   # State management and utilities
   provider: 6.1.5+1
   intl: 0.19.0
+  shared_preferences: 2.5.3
   
   # Analytics and charts
   fl_chart: 0.69.0
diff --git a/apps/mobile-merchant/test/widget_test.dart b/apps/mobile-merchant/test/widget_test.dart
index 92b6c1f..1e7163f 100644
--- a/apps/mobile-merchant/test/widget_test.dart
+++ b/apps/mobile-merchant/test/widget_test.dart
@@ -7,11 +7,68 @@
 
 import 'package:flutter/material.dart';
 import 'package:flutter_test/flutter_test.dart';
-
+import 'package:firebase_core/firebase_core.dart';
+import 'package:firebase_core_platform_interface/firebase_core_platform_interface.dart';
 import 'package:urban_points_merchant/main.dart';
 
+// Mock Firebase setup for testing
+setupFirebaseAuthMocks() {
+  TestWidgetsFlutterBinding.ensureInitialized();
+  
+  // Mock Firebase Core
+  FirebasePlatform.instance = MockFirebasePlatform();
+}
+
+// Mock Firebase Platform
+class MockFirebasePlatform extends FirebasePlatform {
+  @override
+  Future<FirebaseAppPlatform> initializeApp({
+    String? name,
+    FirebaseOptions? options,
+  }) async {
+    return MockFirebaseApp();
+  }
+
+  @override
+  FirebaseAppPlatform app([String name = defaultFirebaseAppName]) {
+    return MockFirebaseApp();
+  }
+
+  @override
+  List<FirebaseAppPlatform> get apps {
+    return [MockFirebaseApp()];
+  }
+}
+
+// Mock Firebase App
+class MockFirebaseApp extends FirebaseAppPlatform {
+  MockFirebaseApp() : super(defaultFirebaseAppName, const FirebaseOptions(
+    apiKey: 'mock-api-key',
+    appId: 'mock-app-id',
+    messagingSenderId: 'mock-sender-id',
+    projectId: 'mock-project-id',
+  ));
+
+  @override
+  Future<void> delete() async {}
+
+  @override
+  Future<void> setAutomaticDataCollectionEnabled(bool enabled) async {}
+
+  @override
+  Future<void> setAutomaticResourceManagementEnabled(bool enabled) async {}
+
+  @override
+  bool get isAutomaticDataCollectionEnabled => false;
+}
+
 void main() {
+  setupFirebaseAuthMocks();
+
   testWidgets('App loads correctly', (WidgetTester tester) async {
+    // Initialize Firebase
+    await Firebase.initializeApp();
+
     // Build our app and trigger a frame.
     await tester.pumpWidget(const UrbanPointsMerchantApp());
 
diff --git a/apps/web-admin/_headers b/apps/web-admin/_headers
index 5f26e51..77ec65e 100644
--- a/apps/web-admin/_headers
+++ b/apps/web-admin/_headers
@@ -9,5 +9,5 @@
   X-XSS-Protection: 1; mode=block
   Referrer-Policy: strict-origin-when-cross-origin
   Strict-Transport-Security: max-age=31536000; includeSubDomains; preload
-  Content-Security-Policy: default-src 'self' data: blob: https://fhhuepnsztoncgjbozrk.supabase.co; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://fhhuepnsztoncgjbozrk.supabase.co wss://fhhuepnsztoncgjbozrk.supabase.co
+  Content-Security-Policy: default-src 'self' data: blob: https://firestore.googleapis.com https://firebase.googleapis.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://firestore.googleapis.com https://firebase.googleapis.com wss://firestore.googleapis.com
   Permissions-Policy: accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()
diff --git a/apps/web-admin/headers.conf b/apps/web-admin/headers.conf
index 1248467..565b5d7 100644
--- a/apps/web-admin/headers.conf
+++ b/apps/web-admin/headers.conf
@@ -7,7 +7,7 @@ add_header X-Content-Type-Options "nosniff" always;
 add_header X-XSS-Protection "1; mode=block" always;
 add_header Referrer-Policy "strict-origin-when-cross-origin" always;
 add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;
-add_header Content-Security-Policy "default-src 'self' data: blob: https://fhhuepnsztoncgjbozrk.supabase.co; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://fhhuepnsztoncgjbozrk.supabase.co wss://fhhuepnsztoncgjbozrk.supabase.co" always;
+add_header Content-Security-Policy "default-src 'self' data: blob: https://firestore.googleapis.com https://firebase.googleapis.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://firestore.googleapis.com https://firebase.googleapis.com wss://firestore.googleapis.com" always;
 add_header Permissions-Policy "accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()" always;
 
 # Apache .htaccess alternative (uncomment below for Apache)
@@ -17,6 +17,6 @@ add_header Permissions-Policy "accelerometer=(), camera=(), geolocation=(), gyro
 #   Header always set X-XSS-Protection "1; mode=block"
 #   Header always set Referrer-Policy "strict-origin-when-cross-origin"
 #   Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
-#   Header always set Content-Security-Policy "default-src 'self' data: blob: https://fhhuepnsztoncgjbozrk.supabase.co; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://fhhuepnsztoncgjbozrk.supabase.co wss://fhhuepnsztoncgjbozrk.supabase.co"
+#   Header always set Content-Security-Policy "default-src 'self' data: blob: https://firestore.googleapis.com https://firebase.googleapis.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://firestore.googleapis.com https://firebase.googleapis.com wss://firestore.googleapis.com"
 #   Header always set Permissions-Policy "accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()"
 # </IfModule>
diff --git a/apps/web-admin/index.html b/apps/web-admin/index.html
index b660206..e93a6f3 100644
--- a/apps/web-admin/index.html
+++ b/apps/web-admin/index.html
@@ -4,521 +4,811 @@
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Urban Points Lebanon - Admin Dashboard</title>
-    <script src="https://cdn.tailwindcss.com"></script>
-    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
-    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
+    
+    <!-- Firebase SDKs -->
+    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
+    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
+    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
+    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-functions-compat.js"></script>
+    
+    <style>
+        * {
+            margin: 0;
+            padding: 0;
+            box-sizing: border-box;
+        }
+        
+        body {
+            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
+            background: #f5f5f5;
+            color: #333;
+        }
+        
+        .login-container {
+            display: flex;
+            justify-content: center;
+            align-items: center;
+            min-height: 100vh;
+            padding: 20px;
+        }
+        
+        .login-card {
+            background: white;
+            padding: 40px;
+            border-radius: 8px;
+            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
+            width: 100%;
+            max-width: 400px;
+        }
+        
+        .login-card h1 {
+            margin-bottom: 10px;
+            color: #2c3e50;
+        }
+        
+        .login-card p {
+            margin-bottom: 30px;
+            color: #7f8c8d;
+        }
+        
+        .form-group {
+            margin-bottom: 20px;
+        }
+        
+        .form-group label {
+            display: block;
+            margin-bottom: 5px;
+            font-weight: 500;
+            color: #2c3e50;
+        }
+        
+        .form-group input {
+            width: 100%;
+            padding: 12px;
+            border: 1px solid #ddd;
+            border-radius: 4px;
+            font-size: 14px;
+        }
+        
+        .form-group input:focus {
+            outline: none;
+            border-color: #3498db;
+        }
+        
+        .btn {
+            width: 100%;
+            padding: 12px;
+            background: #3498db;
+            color: white;
+            border: none;
+            border-radius: 4px;
+            font-size: 16px;
+            font-weight: 500;
+            cursor: pointer;
+            transition: background 0.3s;
+        }
+        
+        .btn:hover {
+            background: #2980b9;
+        }
+        
+        .btn:disabled {
+            background: #95a5a6;
+            cursor: not-allowed;
+        }
+        
+        .error-message {
+            background: #e74c3c;
+            color: white;
+            padding: 12px;
+            border-radius: 4px;
+            margin-bottom: 20px;
+            display: none;
+        }
+        
+        .error-message.show {
+            display: block;
+        }
+        
+        /* Dashboard Styles */
+        .dashboard {
+            display: none;
+        }
+        
+        .dashboard.show {
+            display: block;
+        }
+        
+        .navbar {
+            background: #2c3e50;
+            color: white;
+            padding: 15px 30px;
+            display: flex;
+            justify-content: space-between;
+            align-items: center;
+        }
+        
+        .navbar h1 {
+            font-size: 20px;
+        }
+        
+        .navbar-right {
+            display: flex;
+            align-items: center;
+            gap: 20px;
+        }
+        
+        .navbar-right span {
+            font-size: 14px;
+        }
+        
+        .btn-logout {
+            background: #e74c3c;
+            color: white;
+            border: none;
+            padding: 8px 16px;
+            border-radius: 4px;
+            cursor: pointer;
+            font-size: 14px;
+        }
+        
+        .btn-logout:hover {
+            background: #c0392b;
+        }
+        
+        .tabs {
+            background: white;
+            padding: 0 30px;
+            border-bottom: 1px solid #ddd;
+            display: flex;
+            gap: 10px;
+        }
+        
+        .tab {
+            padding: 15px 20px;
+            cursor: pointer;
+            border-bottom: 3px solid transparent;
+            transition: all 0.3s;
+            font-weight: 500;
+        }
+        
+        .tab:hover {
+            background: #f8f9fa;
+        }
+        
+        .tab.active {
+            border-bottom-color: #3498db;
+            color: #3498db;
+        }
+        
+        .content {
+            padding: 30px;
+        }
+        
+        .tab-content {
+            display: none;
+        }
+        
+        .tab-content.active {
+            display: block;
+        }
+        
+        .stats-grid {
+            display: grid;
+            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
+            gap: 20px;
+            margin-bottom: 30px;
+        }
+        
+        .stat-card {
+            background: white;
+            padding: 20px;
+            border-radius: 8px;
+            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
+        }
+        
+        .stat-card h3 {
+            font-size: 14px;
+            color: #7f8c8d;
+            margin-bottom: 10px;
+            text-transform: uppercase;
+        }
+        
+        .stat-card .value {
+            font-size: 32px;
+            font-weight: bold;
+            color: #2c3e50;
+        }
+        
+        .card {
+            background: white;
+            padding: 20px;
+            border-radius: 8px;
+            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
+            margin-bottom: 20px;
+        }
+        
+        .card h2 {
+            margin-bottom: 20px;
+            color: #2c3e50;
+        }
+        
+        table {
+            width: 100%;
+            border-collapse: collapse;
+        }
+        
+        thead {
+            background: #f8f9fa;
+        }
+        
+        th, td {
+            padding: 12px;
+            text-align: left;
+            border-bottom: 1px solid #ddd;
+        }
+        
+        th {
+            font-weight: 600;
+            color: #2c3e50;
+        }
+        
+        .badge {
+            padding: 4px 8px;
+            border-radius: 4px;
+            font-size: 12px;
+            font-weight: 500;
+        }
+        
+        .badge.pending {
+            background: #fff3cd;
+            color: #856404;
+        }
+        
+        .badge.approved {
+            background: #d4edda;
+            color: #155724;
+        }
+        
+        .badge.rejected {
+            background: #f8d7da;
+            color: #721c24;
+        }
+        
+        .badge.compliant {
+            background: #d4edda;
+            color: #155724;
+        }
+        
+        .badge.non_compliant {
+            background: #f8d7da;
+            color: #721c24;
+        }
+        
+        .btn-sm {
+            padding: 6px 12px;
+            font-size: 13px;
+            border: none;
+            border-radius: 4px;
+            cursor: pointer;
+            margin-right: 5px;
+        }
+        
+        .btn-success {
+            background: #27ae60;
+            color: white;
+        }
+        
+        .btn-success:hover {
+            background: #229954;
+        }
+        
+        .btn-danger {
+            background: #e74c3c;
+            color: white;
+        }
+        
+        .btn-danger:hover {
+            background: #c0392b;
+        }
+        
+        .loading {
+            text-align: center;
+            padding: 40px;
+            color: #7f8c8d;
+        }
+        
+        .empty-state {
+            text-align: center;
+            padding: 60px 20px;
+            color: #7f8c8d;
+        }
+        
+        .empty-state img {
+            width: 100px;
+            height: 100px;
+            opacity: 0.5;
+            margin-bottom: 20px;
+        }
+        
+        .modal {
+            display: none;
+            position: fixed;
+            top: 0;
+            left: 0;
+            width: 100%;
+            height: 100%;
+            background: rgba(0,0,0,0.5);
+            z-index: 1000;
+        }
+        
+        .modal.show {
+            display: flex;
+            justify-content: center;
+            align-items: center;
+        }
+        
+        .modal-content {
+            background: white;
+            padding: 30px;
+            border-radius: 8px;
+            width: 90%;
+            max-width: 500px;
+        }
+        
+        .modal-content h3 {
+            margin-bottom: 20px;
+        }
+        
+        .modal-content textarea {
+            width: 100%;
+            padding: 12px;
+            border: 1px solid #ddd;
+            border-radius: 4px;
+            min-height: 100px;
+            font-family: inherit;
+            resize: vertical;
+        }
+        
+        .modal-actions {
+            display: flex;
+            justify-content: flex-end;
+            gap: 10px;
+            margin-top: 20px;
+        }
+    </style>
 </head>
-<body class="bg-gray-50">
-    <!-- Top Navigation -->
-    <nav class="bg-white shadow-sm border-b">
-        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
-            <div class="flex justify-between h-16">
-                <div class="flex items-center">
-                    <h1 class="text-2xl font-bold text-blue-600">üá±üáß Urban Points Lebanon</h1>
-                    <span class="ml-4 px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full">Admin Dashboard</span>
+<body>
+    <!-- Login Screen -->
+    <div id="loginScreen" class="login-container">
+        <div class="login-card">
+            <h1>Urban Points Lebanon</h1>
+            <p>Admin Dashboard</p>
+            
+            <div id="loginError" class="error-message"></div>
+            
+            <form id="loginForm">
+                <div class="form-group">
+                    <label for="email">Email</label>
+                    <input type="email" id="email" required placeholder="admin@urbanpoints.com">
                 </div>
-                <div class="flex items-center space-x-4">
-                    <span id="adminName" class="text-gray-700 font-medium">Admin</span>
-                    <button onclick="logout()" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">Logout</button>
+                
+                <div class="form-group">
+                    <label for="password">Password</label>
+                    <input type="password" id="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                 </div>
-            </div>
+                
+                <button type="submit" class="btn" id="loginBtn">Sign In</button>
+            </form>
         </div>
-    </nav>
-
-    <!-- Main Content -->
-    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
-        
-        <!-- Stats Cards -->
-        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
-            <div class="bg-white rounded-lg shadow p-6">
-                <div class="flex items-center justify-between">
-                    <div>
-                        <p class="text-gray-500 text-sm">Total Users</p>
-                        <p id="totalUsers" class="text-3xl font-bold text-gray-900">--</p>
-                    </div>
-                    <div class="bg-blue-100 p-3 rounded-full">
-                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
-                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
-                        </svg>
-                    </div>
-                </div>
+    </div>
+    
+    <!-- Dashboard -->
+    <div id="dashboardScreen" class="dashboard">
+        <nav class="navbar">
+            <h1>Urban Points Lebanon - Admin Dashboard</h1>
+            <div class="navbar-right">
+                <span id="adminEmail"></span>
+                <button class="btn-logout" onclick="logout()">Logout</button>
             </div>
-
-            <div class="bg-white rounded-lg shadow p-6">
-                <div class="flex items-center justify-between">
-                    <div>
-                        <p class="text-gray-500 text-sm">Total Merchants</p>
-                        <p id="totalMerchants" class="text-3xl font-bold text-gray-900">--</p>
+        </nav>
+        
+        <div class="tabs">
+            <div class="tab active" onclick="switchTab('pending-offers')">Pending Offers</div>
+            <div class="tab" onclick="switchTab('merchant-compliance')">Merchant Compliance</div>
+            <div class="tab" onclick="switchTab('system-stats')">System Stats</div>
+        </div>
+        
+        <div class="content">
+            <!-- Pending Offers Tab -->
+            <div id="pending-offers" class="tab-content active">
+                <div class="card">
+                    <h2>Pending Offers</h2>
+                    <div id="pendingOffersLoading" class="loading">Loading...</div>
+                    <div id="pendingOffersEmpty" class="empty-state" style="display:none;">
+                        <h3>No Pending Offers</h3>
+                        <p>All offers have been reviewed.</p>
                     </div>
-                    <div class="bg-green-100 p-3 rounded-full">
-                        <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
-                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
-                        </svg>
+                    <div id="pendingOffersTable" style="display:none;">
+                        <table>
+                            <thead>
+                                <tr>
+                                    <th>Offer Title</th>
+                                    <th>Merchant</th>
+                                    <th>Points Cost</th>
+                                    <th>Created</th>
+                                    <th>Status</th>
+                                    <th>Actions</th>
+                                </tr>
+                            </thead>
+                            <tbody id="pendingOffersBody"></tbody>
+                        </table>
                     </div>
                 </div>
             </div>
-
-            <div class="bg-white rounded-lg shadow p-6">
-                <div class="flex items-center justify-between">
-                    <div>
-                        <p class="text-gray-500 text-sm">Active Vouchers</p>
-                        <p id="totalVouchers" class="text-3xl font-bold text-gray-900">--</p>
+            
+            <!-- Merchant Compliance Tab -->
+            <div id="merchant-compliance" class="tab-content">
+                <div class="card">
+                    <h2>Merchant Compliance (5 Offers/Month Required)</h2>
+                    <div id="complianceLoading" class="loading">Loading...</div>
+                    <div id="complianceEmpty" class="empty-state" style="display:none;">
+                        <h3>No Merchants Found</h3>
                     </div>
-                    <div class="bg-purple-100 p-3 rounded-full">
-                        <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
-                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
-                        </svg>
+                    <div id="complianceTable" style="display:none;">
+                        <table>
+                            <thead>
+                                <tr>
+                                    <th>Merchant Name</th>
+                                    <th>Offers This Month</th>
+                                    <th>Compliance Status</th>
+                                    <th>Last Check</th>
+                                </tr>
+                            </thead>
+                            <tbody id="complianceBody"></tbody>
+                        </table>
                     </div>
                 </div>
             </div>
-
-            <div class="bg-white rounded-lg shadow p-6">
-                <div class="flex items-center justify-between">
-                    <div>
-                        <p class="text-gray-500 text-sm">Total Redemptions</p>
-                        <p id="totalRedemptions" class="text-3xl font-bold text-gray-900">--</p>
+            
+            <!-- System Stats Tab -->
+            <div id="system-stats" class="tab-content">
+                <div class="stats-grid" id="statsGrid">
+                    <div class="stat-card">
+                        <h3>Total Redemptions</h3>
+                        <div class="value" id="statTotalRedemptions">-</div>
                     </div>
-                    <div class="bg-yellow-100 p-3 rounded-full">
-                        <svg class="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
-                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
-                        </svg>
+                    <div class="stat-card">
+                        <h3>Total Points Redeemed</h3>
+                        <div class="value" id="statTotalPoints">-</div>
                     </div>
-                </div>
-            </div>
-        </div>
-
-        <!-- Tabs -->
-        <div class="bg-white rounded-lg shadow mb-8">
-            <div class="border-b border-gray-200">
-                <nav class="flex -mb-px">
-                    <button onclick="showTab('vouchers')" id="tab-vouchers" class="tab-button active px-6 py-4 text-sm font-medium border-b-2 border-blue-500 text-blue-600">
-                        Vouchers Management
-                    </button>
-                    <button onclick="showTab('users')" id="tab-users" class="tab-button px-6 py-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
-                        Users
-                    </button>
-                    <button onclick="showTab('merchants')" id="tab-merchants" class="tab-button px-6 py-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
-                        Merchants
-                    </button>
-                    <button onclick="showTab('analytics')" id="tab-analytics" class="tab-button px-6 py-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
-                        Analytics
-                    </button>
-                </nav>
-            </div>
-
-            <!-- Vouchers Tab Content -->
-            <div id="content-vouchers" class="tab-content p-6">
-                <div class="flex justify-between items-center mb-6">
-                    <h2 class="text-2xl font-bold text-gray-900">Vouchers Management</h2>
-                    <button onclick="openCreateVoucherModal()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center">
-                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
-                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
-                        </svg>
-                        Create New Voucher
-                    </button>
-                </div>
-
-                <div id="vouchersList" class="space-y-4">
-                    <p class="text-gray-500 text-center py-8">Loading vouchers...</p>
-                </div>
-            </div>
-
-            <!-- Users Tab Content -->
-            <div id="content-users" class="tab-content p-6 hidden">
-                <h2 class="text-2xl font-bold text-gray-900 mb-6">Users Management</h2>
-                <div id="usersList" class="space-y-4">
-                    <p class="text-gray-500 text-center py-8">Loading users...</p>
-                </div>
-            </div>
-
-            <!-- Merchants Tab Content -->
-            <div id="content-merchants" class="tab-content p-6 hidden">
-                <h2 class="text-2xl font-bold text-gray-900 mb-6">Merchants Management</h2>
-                <div id="merchantsList" class="space-y-4">
-                    <p class="text-gray-500 text-center py-8">Loading merchants...</p>
-                </div>
-            </div>
-
-            <!-- Analytics Tab Content -->
-            <div id="content-analytics" class="tab-content p-6 hidden">
-                <h2 class="text-2xl font-bold text-gray-900 mb-6">Analytics Dashboard</h2>
-                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
-                    <div class="bg-gray-50 p-6 rounded-lg">
-                        <h3 class="text-lg font-semibold mb-4">Voucher Redemptions by Category</h3>
-                        <canvas id="categoryChart"></canvas>
+                    <div class="stat-card">
+                        <h3>Active Customers</h3>
+                        <div class="value" id="statActiveCustomers">-</div>
                     </div>
-                    <div class="bg-gray-50 p-6 rounded-lg">
-                        <h3 class="text-lg font-semibold mb-4">User Growth Over Time</h3>
-                        <canvas id="userGrowthChart"></canvas>
+                    <div class="stat-card">
+                        <h3>Active Merchants</h3>
+                        <div class="value" id="statActiveMerchants">-</div>
                     </div>
                 </div>
+                <div id="statsLoading" class="loading">Loading stats...</div>
             </div>
         </div>
     </div>
-
-    <!-- Create Voucher Modal -->
-    <div id="createVoucherModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
-        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6">
-            <div class="flex justify-between items-center mb-6">
-                <h2 class="text-2xl font-bold text-gray-900">Create New Voucher</h2>
-                <button onclick="closeCreateVoucherModal()" class="text-gray-400 hover:text-gray-600">
-                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
-                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
-                    </svg>
-                </button>
+    
+    <!-- Rejection Modal -->
+    <div id="rejectModal" class="modal">
+        <div class="modal-content">
+            <h3>Reject Offer</h3>
+            <p style="margin-bottom:15px; color:#7f8c8d;">Please provide a reason for rejection:</p>
+            <textarea id="rejectReason" placeholder="e.g., Offer description is unclear, points cost is too high, etc."></textarea>
+            <div class="modal-actions">
+                <button class="btn-sm" onclick="closeRejectModal()">Cancel</button>
+                <button class="btn-sm btn-danger" onclick="confirmReject()">Confirm Rejection</button>
             </div>
-
-            <form id="createVoucherForm" class="space-y-4">
-                <div>
-                    <label class="block text-sm font-medium text-gray-700 mb-1">Merchant Name</label>
-                    <input type="text" id="merchantName" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
-                </div>
-
-                <div class="grid grid-cols-2 gap-4">
-                    <div>
-                        <label class="block text-sm font-medium text-gray-700 mb-1">Title (English)</label>
-                        <input type="text" id="titleEn" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
-                    </div>
-                    <div>
-                        <label class="block text-sm font-medium text-gray-700 mb-1">Title (Arabic)</label>
-                        <input type="text" id="titleAr" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
-                    </div>
-                </div>
-
-                <div>
-                    <label class="block text-sm font-medium text-gray-700 mb-1">Description (English)</label>
-                    <textarea id="descEn" required rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
-                </div>
-
-                <div>
-                    <label class="block text-sm font-medium text-gray-700 mb-1">Description (Arabic)</label>
-                    <textarea id="descAr" required rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
-                </div>
-
-                <div class="grid grid-cols-3 gap-4">
-                    <div>
-                        <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
-                        <select id="category" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
-                            <option value="Dining">Dining</option>
-                            <option value="Cafes & Bakeries">Cafes & Bakeries</option>
-                            <option value="Entertainment">Entertainment</option>
-                            <option value="Shopping">Shopping</option>
-                            <option value="Health & Wellness">Health & Wellness</option>
-                            <option value="Services">Services</option>
-                        </select>
-                    </div>
-                    <div>
-                        <label class="block text-sm font-medium text-gray-700 mb-1">Min Party Size</label>
-                        <input type="number" id="minParty" required min="1" value="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
-                    </div>
-                    <div>
-                        <label class="block text-sm font-medium text-gray-700 mb-1">Max Party Size</label>
-                        <input type="number" id="maxParty" required min="1" value="10" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
-                    </div>
-                </div>
-
-                <div class="grid grid-cols-2 gap-4">
-                    <div>
-                        <label class="block text-sm font-medium text-gray-700 mb-1">Discount %</label>
-                        <input type="number" id="discount" required min="0" max="100" value="50" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
-                    </div>
-                    <div>
-                        <label class="block text-sm font-medium text-gray-700 mb-1">Value Description</label>
-                        <input type="text" id="valueDesc" required value="Buy 1 Get 1 Free" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
-                    </div>
-                </div>
-
-                <div class="flex items-center">
-                    <input type="checkbox" id="isFeatured" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
-                    <label for="isFeatured" class="ml-2 text-sm font-medium text-gray-700">Featured Voucher</label>
-                </div>
-
-                <div class="flex justify-end space-x-3 pt-4">
-                    <button type="button" onclick="closeCreateVoucherModal()" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">
-                        Cancel
-                    </button>
-                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
-                        Create Voucher
-                    </button>
-                </div>
-            </form>
         </div>
     </div>
-
+    
     <script>
-        // Supabase Configuration
-        const SUPABASE_URL = 'https://fhhuepnsztoncgjbozrk.supabase.co';
-        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZoaHVlcG5zenRvbmNnamJvenJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0MzY1OTcsImV4cCI6MjA3NzAxMjU5N30.44WABnag4-ZdpMYyKzTiRpRCC19to_vOMgowYB9RoB8';
-        
-        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
-
-        // Load dashboard data
-        async function loadDashboard() {
+        // Firebase Configuration
+        const firebaseConfig = {
+            apiKey: 'AIzaSyBQi-N9xW2DGLOc2Esrd-o1dCJOxWv8eZM',
+            appId: '1:573269413177:web:42a047e6b83061e747ece8',
+            messagingSenderId: '573269413177',
+            projectId: 'urbangenspark',
+            authDomain: 'urbangenspark.firebaseapp.com',
+            storageBucket: 'urbangenspark.firebasestorage.app',
+        };
+        
+        // Initialize Firebase
+        firebase.initializeApp(firebaseConfig);
+        const auth = firebase.auth();
+        const db = firebase.firestore();
+        const functions = firebase.functions();
+        
+        // Global state
+        let currentUser = null;
+        let pendingOfferIdForReject = null;
+        
+        // Auth State Observer
+        auth.onAuthStateChanged(async (user) => {
+            if (user) {
+                // Check if user is admin
+                const adminDoc = await db.collection('admins').doc(user.uid).get();
+                if (adminDoc.exists) {
+                    currentUser = user;
+                    document.getElementById('loginScreen').style.display = 'none';
+                    document.getElementById('dashboardScreen').classList.add('show');
+                    document.getElementById('adminEmail').textContent = user.email;
+                    loadDashboard();
+                } else {
+                    showError('Access denied. You are not an admin.');
+                    await auth.signOut();
+                }
+            } else {
+                currentUser = null;
+                document.getElementById('loginScreen').style.display = 'flex';
+                document.getElementById('dashboardScreen').classList.remove('show');
+            }
+        });
+        
+        // Login Form Handler
+        document.getElementById('loginForm').addEventListener('submit', async (e) => {
+            e.preventDefault();
+            const email = document.getElementById('email').value;
+            const password = document.getElementById('password').value;
+            const loginBtn = document.getElementById('loginBtn');
+            
+            loginBtn.disabled = true;
+            loginBtn.textContent = 'Signing in...';
+            
             try {
-                // Load stats
-                const [users, merchants, vouchers, redemptions] = await Promise.all([
-                    supabase.from('users').select('id', { count: 'exact', head: true }),
-                    supabase.from('merchants').select('id', { count: 'exact', head: true }),
-                    supabase.from('vouchers').select('id', { count: 'exact', head: true }),
-                    supabase.from('voucher_redemptions').select('id', { count: 'exact', head: true })
-                ]);
-
-                document.getElementById('totalUsers').textContent = users.count || 0;
-                document.getElementById('totalMerchants').textContent = merchants.count || 0;
-                document.getElementById('totalVouchers').textContent = vouchers.count || 0;
-                document.getElementById('totalRedemptions').textContent = redemptions.count || 0;
-
-                // Load vouchers
-                loadVouchers();
+                await auth.signInWithEmailAndPassword(email, password);
             } catch (error) {
-                console.error('Error loading dashboard:', error);
+                showError(error.message);
+                loginBtn.disabled = false;
+                loginBtn.textContent = 'Sign In';
             }
+        });
+        
+        // Logout
+        async function logout() {
+            await auth.signOut();
         }
-
-        async function loadVouchers() {
+        
+        // Show Error
+        function showError(message) {
+            const errorDiv = document.getElementById('loginError');
+            errorDiv.textContent = message;
+            errorDiv.classList.add('show');
+            setTimeout(() => errorDiv.classList.remove('show'), 5000);
+        }
+        
+        // Switch Tab
+        function switchTab(tabId) {
+            // Update tab buttons
+            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
+            event.target.classList.add('active');
+            
+            // Update tab content
+            document.querySelectorAll('.tab-content').forEach(content => {
+                content.classList.remove('active');
+            });
+            document.getElementById(tabId).classList.add('active');
+            
+            // Load data for the active tab
+            if (tabId === 'pending-offers') loadPendingOffers();
+            if (tabId === 'merchant-compliance') loadMerchantCompliance();
+            if (tabId === 'system-stats') loadSystemStats();
+        }
+        
+        // Load Dashboard
+        function loadDashboard() {
+            loadPendingOffers();
+        }
+        
+        // Load Pending Offers
+        async function loadPendingOffers() {
+            const loading = document.getElementById('pendingOffersLoading');
+            const empty = document.getElementById('pendingOffersEmpty');
+            const table = document.getElementById('pendingOffersTable');
+            const tbody = document.getElementById('pendingOffersBody');
+            
+            loading.style.display = 'block';
+            empty.style.display = 'none';
+            table.style.display = 'none';
+            
             try {
-                const { data, error } = await supabase
-                    .from('vouchers')
-                    .select('*')
-                    .order('created_at', { ascending: false });
-
-                if (error) throw error;
-
-                const vouchersList = document.getElementById('vouchersList');
-                if (data.length === 0) {
-                    vouchersList.innerHTML = '<p class="text-gray-500 text-center py-8">No vouchers yet. Create your first voucher!</p>';
+                const offersSnapshot = await db.collection('offers')
+                    .where('status', '==', 'pending')
+                    .orderBy('created_at', 'desc')
+                    .get();
+                
+                loading.style.display = 'none';
+                
+                if (offersSnapshot.empty) {
+                    empty.style.display = 'block';
                     return;
                 }
-
-                vouchersList.innerHTML = data.map(v => `
-                    <div class="bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
-                        <div class="flex justify-between items-start">
-                            <div class="flex-1">
-                                <div class="flex items-center space-x-2 mb-2">
-                                    <h3 class="text-lg font-semibold text-gray-900">${v.title}</h3>
-                                    ${v.is_featured ? '<span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded">Featured</span>' : ''}
-                                    <span class="px-2 py-1 bg-${v.is_active ? 'green' : 'red'}-100 text-${v.is_active ? 'green' : 'red'}-800 text-xs font-medium rounded">
-                                        ${v.is_active ? 'Active' : 'Inactive'}
-                                    </span>
-                                </div>
-                                <p class="text-sm text-gray-600 mb-2">${v.merchant_name} ‚Ä¢ ${v.category}</p>
-                                <p class="text-sm text-gray-500">${v.description.substring(0, 100)}...</p>
-                                <div class="mt-2 flex items-center space-x-4 text-sm text-gray-600">
-                                    <span>üë• ${v.min_party_size}-${v.max_party_size} people</span>
-                                    <span>üí∞ ${v.value_description}</span>
-                                    <span>üìä ${v.used_by_users?.length || 0} redemptions</span>
-                                </div>
-                            </div>
-                            <div class="flex space-x-2">
-                                <button onclick="toggleVoucher('${v.id}', ${!v.is_active})" class="px-3 py-1 text-sm ${v.is_active ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'} rounded hover:opacity-80">
-                                    ${v.is_active ? 'Deactivate' : 'Activate'}
-                                </button>
-                                <button onclick="deleteVoucher('${v.id}')" class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">
-                                    Delete
-                                </button>
-                            </div>
-                        </div>
-                    </div>
-                `).join('');
+                
+                tbody.innerHTML = '';
+                
+                for (const doc of offersSnapshot.docs) {
+                    const offer = doc.data();
+                    const merchantDoc = await db.collection('merchants').doc(offer.merchant_id).get();
+                    const merchantName = merchantDoc.exists ? merchantDoc.data().name : 'Unknown';
+                    
+                    const row = `
+                        <tr>
+                            <td>${offer.title}</td>
+                            <td>${merchantName}</td>
+                            <td>${offer.points_cost} pts</td>
+                            <td>${formatDate(offer.created_at)}</td>
+                            <td><span class="badge pending">Pending</span></td>
+                            <td>
+                                <button class="btn-sm btn-success" onclick="approveOffer('${doc.id}', '${offer.title}')">Approve</button>
+                                <button class="btn-sm btn-danger" onclick="openRejectModal('${doc.id}')">Reject</button>
+                            </td>
+                        </tr>
+                    `;
+                    tbody.innerHTML += row;
+                }
+                
+                table.style.display = 'block';
             } catch (error) {
-                console.error('Error loading vouchers:', error);
-                document.getElementById('vouchersList').innerHTML = '<p class="text-red-500 text-center py-8">Error loading vouchers</p>';
+                console.error('Error loading pending offers:', error);
+                loading.innerHTML = `<p style="color:#e74c3c;">Error: ${error.message}</p>`;
             }
         }
-
-        async function toggleVoucher(id, active) {
+        
+        // Approve Offer
+        async function approveOffer(offerId, offerTitle) {
+            if (!confirm(`Approve offer "${offerTitle}"?`)) return;
+            
             try {
-                const { error } = await supabase
-                    .from('vouchers')
-                    .update({ is_active: active })
-                    .eq('id', id);
-
-                if (error) throw error;
-                loadVouchers();
+                const approveOfferFunc = functions.httpsCallable('approveOffer');
+                const result = await approveOfferFunc({ offerId });
+                
+                if (result.data.success) {
+                    alert('Offer approved successfully!');
+                    loadPendingOffers();
+                } else {
+                    alert('Error: ' + result.data.error);
+                }
             } catch (error) {
-                alert('Error updating voucher: ' + error.message);
+                console.error('Error approving offer:', error);
+                alert('Error: ' + error.message);
             }
         }
-
-        async function deleteVoucher(id) {
-            if (!confirm('Are you sure you want to delete this voucher?')) return;
-
-            try {
-                const { error } = await supabase
-                    .from('vouchers')
-                    .delete()
-                    .eq('id', id);
-
-                if (error) throw error;
-                loadVouchers();
-                loadDashboard();
-            } catch (error) {
-                alert('Error deleting voucher: ' + error.message);
-            }
+        
+        // Open Reject Modal
+        function openRejectModal(offerId) {
+            pendingOfferIdForReject = offerId;
+            document.getElementById('rejectReason').value = '';
+            document.getElementById('rejectModal').classList.add('show');
         }
-
-        // Tab switching
-        function showTab(tab) {
-            // Hide all tabs
-            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
-            document.querySelectorAll('.tab-button').forEach(el => {
-                el.classList.remove('active', 'border-blue-500', 'text-blue-600');
-                el.classList.add('border-transparent', 'text-gray-500');
-            });
-
-            // Show selected tab
-            document.getElementById(`content-${tab}`).classList.remove('hidden');
-            document.getElementById(`tab-${tab}`).classList.add('active', 'border-blue-500', 'text-blue-600');
-            document.getElementById(`tab-${tab}`).classList.remove('border-transparent', 'text-gray-500');
-
-            // Load data for specific tabs
-            if (tab === 'users') loadUsers();
-            if (tab === 'merchants') loadMerchants();
-            if (tab === 'analytics') loadAnalytics();
-        }
-
-        async function loadUsers() {
+        
+        // Close Reject Modal
+        function closeRejectModal() {
+            pendingOfferIdForReject = null;
+            document.getElementById('rejectModal').classList.remove('show');
+        }
+        
+        // Confirm Reject
+        async function confirmReject() {
+            const reason = document.getElementById('rejectReason').value.trim();
+            
+            if (!reason) {
+                alert('Please provide a rejection reason.');
+                return;
+            }
+            
             try {
-                const { data, error } = await supabase
-                    .from('users')
-                    .select('*')
-                    .order('created_at', { ascending: false })
-                    .limit(50);
-
-                if (error) throw error;
-
-                const usersList = document.getElementById('usersList');
-                usersList.innerHTML = data.map(u => `
-                    <div class="bg-white border border-gray-200 rounded-lg p-4">
-                        <div class="flex justify-between items-center">
-                            <div>
-                                <h3 class="font-semibold text-gray-900">${u.name}</h3>
-                                <p class="text-sm text-gray-600">${u.email}</p>
-                                <div class="mt-2 flex items-center space-x-4 text-sm text-gray-500">
-                                    <span>‚≠ê ${u.points} points</span>
-                                    <span>üèÜ ${u.tier} tier</span>
-                                    <span>üìÖ Joined ${new Date(u.created_at).toLocaleDateString()}</span>
-                                </div>
-                            </div>
-                        </div>
-                    </div>
-                `).join('');
+                const rejectOfferFunc = functions.httpsCallable('rejectOffer');
+                const result = await rejectOfferFunc({ 
+                    offerId: pendingOfferIdForReject, 
+                    reason 
+                });
+                
+                if (result.data.success) {
+                    alert('Offer rejected successfully!');
+                    closeRejectModal();
+                    loadPendingOffers();
+                } else {
+                    alert('Error: ' + result.data.error);
+                }
             } catch (error) {
-                console.error('Error loading users:', error);
+                console.error('Error rejecting offer:', error);
+                alert('Error: ' + error.message);
             }
         }
-
-        async function loadMerchants() {
+        
+        // Load Merchant Compliance
+        async function loadMerchantCompliance() {
+            const loading = document.getElementById('complianceLoading');
+            const empty = document.getElementById('complianceEmpty');
+            const table = document.getElementById('complianceTable');
+            const tbody = document.getElementById('complianceBody');
+            
+            loading.style.display = 'block';
+            empty.style.display = 'none';
+            table.style.display = 'none';
+            
             try {
-                const { data, error } = await supabase
-                    .from('merchants')
-                    .select('*')
-                    .order('created_at', { ascending: false });
-
-                if (error) throw error;
-
-                const merchantsList = document.getElementById('merchantsList');
-                merchantsList.innerHTML = data.map(m => `
-                    <div class="bg-white border border-gray-200 rounded-lg p-4">
-                        <div class="flex justify-between items-center">
-                            <div>
-                                <h3 class="font-semibold text-gray-900">${m.name}</h3>
-                                <p class="text-sm text-gray-600">${m.category} ‚Ä¢ ${m.location || 'No location'}</p>
-                                <div class="mt-2 flex items-center space-x-4 text-sm text-gray-500">
-                                    <span>‚≠ê ${m.rating || 0} rating</span>
-                                    <span>üí∞ ${m.points_ratio}x points</span>
-                                    <span>${m.is_active ? '‚úÖ Active' : '‚ùå Inactive'}</span>
-                                </div>
-                            </div>
-                        </div>
-                    </div>
-                `).join('');
+                const merchantsSnapshot = await db.collection('merchants')
+                    .orderBy('compliance_status')
+                    .get();
+                
+                loading.style.display = 'none';
+                
+                if (merchantsSnapshot.empty) {
+                    empty.style.display = 'block';
+                    return;
+                }
+                
+                tbody.innerHTML = '';
+                
+                merchantsSnapshot.forEach(doc => {
+                    const merchant = doc.data();
+                    const offersCount = merchant.offers_created_this_month || 0;
+                    const complianceStatus = merchant.compliance_status || 'unknown';
+                    const lastCheck = merchant.last_compliance_check;
+                    
+                    const row = `
+                        <tr>
+                            <td>${merchant.name}</td>
+                            <td>${offersCount} / 5</td>
+                            <td><span class="badge ${complianceStatus}">${complianceStatus}</span></td>
+                            <td>${lastCheck ? formatDate(lastCheck) : 'Never'}</td>
+                        </tr>
+                    `;
+                    tbody.innerHTML += row;
+                });
+                
+                table.style.display = 'block';
             } catch (error) {
-                console.error('Error loading merchants:', error);
+                console.error('Error loading merchant compliance:', error);
+                loading.innerHTML = `<p style="color:#e74c3c;">Error: ${error.message}</p>`;
             }
         }
-
-        function loadAnalytics() {
-            // Placeholder for analytics charts
-            console.log('Loading analytics...');
-        }
-
-        // Modal functions
-        function openCreateVoucherModal() {
-            document.getElementById('createVoucherModal').classList.remove('hidden');
-        }
-
-        function closeCreateVoucherModal() {
-            document.getElementById('createVoucherModal').classList.add('hidden');
-            document.getElementById('createVoucherForm').reset();
-        }
-
-        // Create voucher form submission
-        document.getElementById('createVoucherForm').addEventListener('submit', async (e) => {
-            e.preventDefault();
-
-            const now = new Date();
-            const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);
-            const monthEnd = new Date(now.getFullYear(), now.getMonth() + 1, 0, 23, 59, 59);
-
-            const voucherData = {
-                merchant_name: document.getElementById('merchantName').value,
-                title: document.getElementById('titleEn').value,
-                title_ar: document.getElementById('titleAr').value,
-                description: document.getElementById('descEn').value,
-                description_ar: document.getElementById('descAr').value,
-                category: document.getElementById('category').value,
-                voucher_type: 'primary',
-                min_party_size: parseInt(document.getElementById('minParty').value),
-                max_party_size: parseInt(document.getElementById('maxParty').value),
-                month_start: monthStart.toISOString(),
-                month_end: monthEnd.toISOString(),
-                is_active: true,
-                usage_limit: 1,
-                used_by_users: [],
-                blackout_days: [
-                    '2025-01-01T00:00:00Z',
-                    '2025-02-09T00:00:00Z',
-                    '2025-04-18T00:00:00Z',
-                    '2025-04-20T00:00:00Z',
-                    '2025-05-01T00:00:00Z',
-                    '2025-08-15T00:00:00Z',
-                    '2025-11-22T00:00:00Z'
-                ],
-                terms: ['Valid for dine-in', 'Cannot be combined with other offers', 'Reservation required'],
-                terms_ar: ['ÿµÿßŸÑÿ≠ ŸÑŸÑÿ∑ÿπÿßŸÖ ŸÅŸä ÿßŸÑŸÖÿ∑ÿπŸÖ', 'ŸÑÿß ŸäŸÖŸÉŸÜ ÿØŸÖÿ¨Ÿá ŸÖÿπ ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ', 'Ÿäÿ™ÿ∑ŸÑÿ® ÿ≠ÿ¨ÿ≤ ŸÖÿ≥ÿ®ŸÇ'],
-                value_description: document.getElementById('valueDesc').value,
-                discount_percentage: parseFloat(document.getElementById('discount').value),
-                popularity: 0,
-                is_featured: document.getElementById('isFeatured').checked
-            };
-
+        
+        // Load System Stats
+        async function loadSystemStats() {
+            const loading = document.getElementById('statsLoading');
+            loading.style.display = 'block';
+            
             try {
-                const { error } = await supabase
-                    .from('vouchers')
-                    .insert([voucherData]);
-
-                if (error) throw error;
-
-                alert('Voucher created successfully!');
-                closeCreateVoucherModal();
-                loadVouchers();
-                loadDashboard();
+                // Load aggregate stats from Firestore collections
+                const redemptionsSnapshot = await db.collection('redemptions')
+                    .where('status', '==', 'completed')
+                    .get();
+                
+                const customersSnapshot = await db.collection('customers').get();
+                const merchantsSnapshot = await db.collection('merchants').get();
+                
+                let totalPoints = 0;
+                redemptionsSnapshot.forEach(doc => {
+                    totalPoints += doc.data().points_awarded || 0;
+                });
+                
+                document.getElementById('statTotalRedemptions').textContent = redemptionsSnapshot.size;
+                document.getElementById('statTotalPoints').textContent = totalPoints.toLocaleString();
+                document.getElementById('statActiveCustomers').textContent = customersSnapshot.size;
+                document.getElementById('statActiveMerchants').textContent = merchantsSnapshot.size;
+                
+                loading.style.display = 'none';
             } catch (error) {
-                alert('Error creating voucher: ' + error.message);
-            }
-        });
-
-        function logout() {
-            if (confirm('Are you sure you want to logout?')) {
-                window.location.href = '/';
+                console.error('Error loading system stats:', error);
+                loading.innerHTML = `<p style="color:#e74c3c;">Error: ${error.message}</p>`;
             }
         }
-
-        // Initialize dashboard
-        window.addEventListener('load', () => {
-            loadDashboard();
-        });
+        
+        // Format Date
+        function formatDate(timestamp) {
+            if (!timestamp) return 'N/A';
+            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);
+            return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();
+        }
     </script>
 </body>
 </html>
diff --git a/apps/web-admin/package.json b/apps/web-admin/package.json
index dc8e5d8..8dd2337 100644
--- a/apps/web-admin/package.json
+++ b/apps/web-admin/package.json
@@ -10,20 +10,20 @@
     "lint": "next lint"
   },
   "dependencies": {
-    "next": "14.0.4",
-    "react": "18.2.0",
-    "react-dom": "18.2.0",
-    "@supabase/supabase-js": "2.39.0",
-    "recharts": "2.10.3",
-    "date-fns": "3.0.6"
+    "date-fns": "3.0.6",
+    "firebase": "^10.14.1",
+    "next": "^16.1.1",
+    "react": "^18.3.1",
+    "react-dom": "^18.3.1",
+    "recharts": "2.10.3"
   },
   "devDependencies": {
     "@types/node": "20.10.6",
     "@types/react": "18.2.46",
     "@types/react-dom": "18.2.18",
-    "typescript": "5.3.3",
     "autoprefixer": "10.4.16",
     "postcss": "8.4.32",
-    "tailwindcss": "3.4.0"
+    "tailwindcss": "3.4.0",
+    "typescript": "5.3.3"
   }
 }
diff --git a/apps/web-admin/vercel.json b/apps/web-admin/vercel.json
index 6828801..761bf43 100644
--- a/apps/web-admin/vercel.json
+++ b/apps/web-admin/vercel.json
@@ -25,7 +25,7 @@
         },
         {
           "key": "Content-Security-Policy",
-          "value": "default-src 'self' data: blob: https://fhhuepnsztoncgjbozrk.supabase.co; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://fhhuepnsztoncgjbozrk.supabase.co wss://fhhuepnsztoncgjbozrk.supabase.co"
+          "value": "default-src 'self' data: blob: https://*.googleapis.com https://*.firebaseio.com https://*.cloudfunctions.net; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.gstatic.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://*.googleapis.com https://*.firebaseio.com wss://*.firebaseio.com https://*.cloudfunctions.net"
         },
         {
           "key": "Permissions-Policy",
diff --git a/archive/urban-points-lebanon-complete b/archive/urban-points-lebanon-complete
deleted file mode 160000
index b1523c6..0000000
--- a/archive/urban-points-lebanon-complete
+++ /dev/null
@@ -1 +0,0 @@
-Subproject commit b1523c63f8ce0bbf8683512380cc78161c0c4ae7
diff --git a/archive/urban_points_lebanon_customer_v2 b/archive/urban_points_lebanon_customer_v2
deleted file mode 160000
index 78200f7..0000000
--- a/archive/urban_points_lebanon_customer_v2
+++ /dev/null
@@ -1 +0,0 @@
-Subproject commit 78200f77785fd581a86b3567279c24cbbee43626
diff --git a/backend/firebase-functions b/backend/firebase-functions
--- a/backend/firebase-functions
+++ b/backend/firebase-functions
@@ -1 +1 @@
-Subproject commit 985f92f9b005b3cb41475b98d708f31a8fcec43d
+Subproject commit 985f92f9b005b3cb41475b98d708f31a8fcec43d-dirty
diff --git a/infra/firebase.json b/infra/firebase.json
index b8e9ed2..ab681fd 100644
--- a/infra/firebase.json
+++ b/infra/firebase.json
@@ -17,5 +17,21 @@
   "firestore": {
     "rules": "firestore.rules",
     "indexes": "firestore.indexes.json"
+  },
+  "emulators": {
+    "auth": {
+      "port": 9099
+    },
+    "firestore": {
+      "port": 8080
+    },
+    "functions": {
+      "port": 5001
+    },
+    "ui": {
+      "enabled": true,
+      "port": 4000
+    },
+    "singleProjectMode": true
   }
 }
diff --git a/infra/firestore.indexes.json b/infra/firestore.indexes.json
index fe88360..0074ddf 100644
--- a/infra/firestore.indexes.json
+++ b/infra/firestore.indexes.json
@@ -221,6 +221,56 @@
           "order": "ASCENDING"
         }
       ]
+    },
+    {
+      "collectionGroup": "redemptions",
+      "queryScope": "COLLECTION",
+      "fields": [
+        {
+          "fieldPath": "user_id",
+          "order": "ASCENDING"
+        },
+        {
+          "fieldPath": "offer_id",
+          "order": "ASCENDING"
+        },
+        {
+          "fieldPath": "status",
+          "order": "ASCENDING"
+        },
+        {
+          "fieldPath": "created_at",
+          "order": "ASCENDING"
+        }
+      ]
+    },
+    {
+      "collectionGroup": "offers",
+      "queryScope": "COLLECTION",
+      "fields": [
+        {
+          "fieldPath": "merchant_id",
+          "order": "ASCENDING"
+        },
+        {
+          "fieldPath": "created_at",
+          "order": "ASCENDING"
+        }
+      ]
+    },
+    {
+      "collectionGroup": "offers",
+      "queryScope": "COLLECTION",
+      "fields": [
+        {
+          "fieldPath": "status",
+          "order": "ASCENDING"
+        },
+        {
+          "fieldPath": "created_at",
+          "order": "DESCENDING"
+        }
+      ]
     }
   ],
   "fieldOverrides": []
diff --git a/infra/firestore.rules b/infra/firestore.rules
index 7b1d2cc..1578e4a 100644
--- a/infra/firestore.rules
+++ b/infra/firestore.rules
@@ -71,15 +71,30 @@ service cloud.firestore {
     
     // ========================================================================
     // OFFERS/REWARDS COLLECTION
+    // Qatar Spec Requirement 5: Admin approval workflow enforcement
     // ========================================================================
     
     match /offers/{offerId} {
-      // Public read for active offers
-      allow read: if resource.data.is_active == true || 
+      // Public read for active AND approved offers
+      allow read: if (resource.data.is_active == true && resource.data.status == 'approved') || 
                      resource.data.merchant_id == request.auth.uid ||
                      isAdmin();
-      allow create: if isAuthenticated();
-      allow update: if resource.data.merchant_id == request.auth.uid || isAdmin();
+      
+      // Merchants can create offers, but they start as PENDING
+      allow create: if isAuthenticated() && 
+                       request.resource.data.merchant_id == request.auth.uid &&
+                       request.resource.data.status == 'pending' &&
+                       request.resource.data.is_active == false;
+      
+      // Merchants can update their own offers, but CANNOT change status or activate
+      allow update: if resource.data.merchant_id == request.auth.uid && 
+                       request.resource.data.status == resource.data.status &&
+                       request.resource.data.is_active == resource.data.is_active &&
+                       request.resource.data.merchant_id == resource.data.merchant_id;
+      
+      // Only admins can approve/reject and activate offers
+      allow update: if isAdmin();
+      
       allow delete: if isAdmin();
     }
     
@@ -268,6 +283,16 @@ service cloud.firestore {
       allow read, write: if isAdmin();
     }
     
+    // ========================================================================
+    // RATE_LIMITS COLLECTION (Cloud Functions Only)
+    // Qatar Spec Requirement 6: Abuse prevention storage
+    // ========================================================================
+    
+    match /rate_limits/{limitId} {
+      allow read: if isAdmin();
+      allow write: if false; // Only Cloud Functions
+    }
+    
     // ========================================================================
     // DEFAULT DENY ALL
     // ========================================================================
