{
  "calls": [
    {
      "name": "getAvailableOffers",
      "response": {
        "success": true,
        "offers": [
          {
            "id": "offer-test-001",
            "title": "Test Offer",
            "description": "Test offer for smoke tests",
            "points_required": 10,
            "points_cost": 10,
            "image_url": "",
            "valid_until": "2027-01-28T14:25:30.362Z",
            "is_active": true,
            "discount_percentage": 10,
            "created_at": null,
            "merchant_id": "merchant-test-001",
            "merchant_name": "",
            "category": "test",
            "distance_km": null,
            "used": false
          }
        ]
      }
    },
    {
      "name": "getOffersByLocationFunc",
      "response": {
        "success": true,
        "offers": [],
        "totalCount": 0
      }
    },
    {
      "name": "generateQRToken",
      "response": {
        "success": true,
        "token": "eyJ1c2VySWQiOiJ0ZXN0LWN1c3RvbWVyLXVpZCIsIm9mZmVySWQiOiJvZmZlci10ZXN0LTAwMSIsIm1lcmNoYW50SWQiOiJ0ZXN0LW1lcmNoYW50LXVpZCIsImRldmljZUhhc2giOiJzbW9rZS10ZXN0LWRldmljZS1oYXNoIiwidGltZXN0YW1wIjoxNzY5NjEwMzM0NzM0LCJleHBpcmVzQXQiOjE3Njk2MTAzOTQ3MzQsIm5vbmNlIjoiNzAzNDdkNTMxYTFiZjZlZWQ3ZTUxNzY4YjZiYmMwYjQiLCJzaWduYXR1cmUiOiI5NDRhYmE4M2FiZmY2NjFkNzQ2YTM5MDQ1ZWYzZTJjZjEyYTE0NTU0MzU4NjY2ZTVmY2JhY2ZhNzZhMmIwNmJiIn0=",
        "displayCode": "703424",
        "expiresAt": "2026-01-28T14:26:34.734Z",
        "qr_token": "eyJ1c2VySWQiOiJ0ZXN0LWN1c3RvbWVyLXVpZCIsIm9mZmVySWQiOiJvZmZlci10ZXN0LTAwMSIsIm1lcmNoYW50SWQiOiJ0ZXN0LW1lcmNoYW50LXVpZCIsImRldmljZUhhc2giOiJzbW9rZS10ZXN0LWRldmljZS1oYXNoIiwidGltZXN0YW1wIjoxNzY5NjEwMzM0NzM0LCJleHBpcmVzQXQiOjE3Njk2MTAzOTQ3MzQsIm5vbmNlIjoiNzAzNDdkNTMxYTFiZjZlZWQ3ZTUxNzY4YjZiYmMwYjQiLCJzaWduYXR1cmUiOiI5NDRhYmE4M2FiZmY2NjFkNzQ2YTM5MDQ1ZWYzZTJjZjEyYTE0NTU0MzU4NjY2ZTVmY2JhY2ZhNzZhMmIwNmJiIn0=",
        "display_code": "703424",
        "expires_at": "2026-01-28T14:26:34.734Z"
      }
    },
    {
      "name": "validateQRToken",
      "response": {
        "skipped": true,
        "reason": "Complex redemption flow - requires integration test"
      }
    },
    {
      "name": "getBalance",
      "response": {
        "success": false,
        "error": "Missing customerId"
      }
    }
  ],
  "timings": {
    "getAvailableOffers": 1330,
    "getOffersByLocationFunc": 785,
    "generateQRToken": 834,
    "validateQRToken": 0,
    "getBalance": 828
  },
  "errors": [
    {
      "message": "getBalance: Expected numeric balance, got undefined. Data: {\"success\":false,\"error\":\"Missing customerId\"}",
      "stack": "Error: getBalance: Expected numeric balance, got undefined. Data: {\"success\":false,\"error\":\"Missing customerId\"}\n    at validateGetBalance (file:///Users/mohammadzeineddine/Downloads/URBAN_POINTS_LEBANON_CTO_FORENSIC_HANDOVER/tools/smoke/mvp_smoke.mjs:573:11)\n    at main (file:///Users/mohammadzeineddine/Downloads/URBAN_POINTS_LEBANON_CTO_FORENSIC_HANDOVER/tools/smoke/mvp_smoke.mjs:260:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"
    }
  ]
}